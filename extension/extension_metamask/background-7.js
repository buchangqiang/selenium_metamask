LavaPack.loadBundle([[1290,{"bn.js":1279,buffer:2028,"js-sha3":1302,"number-to-bn":5175},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("bn.js"),o=e("number-to-bn"),a=e("js-sha3").keccak_256;function i(e){for(var t=e,r=t[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t}function s(e){var t=e.toString(16);return t.length%2&&(t="0"+t),i(new r(t,"hex"))}function u(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function c(e,t){var n=e;if(!r.isBuffer(n)){if(!u(n)){var o=new Error(t?"[ethjs-abi] invalid "+t:"[ethjs-abi] invalid hex or buffer, must be a prefixed alphanumeric even length hex string");throw o.reason="[ethjs-abi] invalid hex string, hex must be prefixed and alphanumeric (e.g. 0x023..)",o.value=n,o}(n=n.substring(2)).length%2&&(n="0"+n),n=new r(n,"hex")}return n}function l(e,t){return{encode:function(n){var a=n;return"object"==typeof a&&a.toString&&(a.toTwos||a.dividedToIntegerBy)&&(a=a.toString(10).split(".")[0]),"string"!=typeof a&&"number"!=typeof a||(a=String(a).split(".")[0]),a=(a=o(a)).toTwos(8*e).maskn(8*e),t&&(a=a.fromTwos(8*e).toTwos(256)),a.toArrayLike(r,"be",32)},decode:function(r,o){var a=32-e,i=new n(r.slice(o+a,o+32));return i=t?i.fromTwos(8*e):i.maskn(8*e),{consumed:32,value:new n(i.toString(10))}}}}var d=l(32,!1),f={encode:function(e){return d.encode(e?1:0)},decode:function(e,t){var r=d.decode(e,t);return{consumed:r.consumed,value:!r.value.isZero()}}};function h(e){return{encode:function(e){var t=e;if(32===(t=c(t)).length)return t;var n=new r(32);return n.fill(0),t.copy(n),n},decode:function(t,r){if(0!==t.length&&t.length<r+32)throw new Error("[ethjs-abi] while decoding fixed bytes, invalid bytes data length: "+e);return{consumed:32,value:"0x"+t.slice(r,r+e).toString("hex")}}}}var g={encode:function(e){var t=e,n=new r(32);if(!u(t,20))throw new Error("[ethjs-abi] while encoding address, invalid address value, not alphanumeric 20 byte hex string");return t=c(t),n.fill(0),t.copy(n,12),n},decode:function(e,t){if(0===e.length)return{consumed:32,value:"0x"};if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding address data, invalid address data, invalid byte length "+e.length);return{consumed:32,value:"0x"+e.slice(t+12,t+32).toString("hex")}}};function p(e){var t=parseInt(32*Math.ceil(e.length/32)),n=new r(t-e.length);return n.fill(0),r.concat([d.encode(e.length),e,n])}function m(e,t){if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32));var r=d.decode(e,t).value;if(r=r.toNumber(),0!==e.length&&e.length<t+32+r)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32+r));return{consumed:parseInt(32+32*Math.ceil(r/32),10),value:e.slice(t+32,t+32+r)}}var b={encode:function(e){return p(c(e))},decode:function(e,t){var r=m(e,t);return r.value="0x"+r.value.toString("hex"),r},dynamic:!0},y={encode:function(e){return p(new r(e,"utf8"))},decode:function(e,t){var r=m(e,t);return r.value=r.value.toString("utf8"),r},dynamic:!0};function v(e,t){return{encode:function(n){var o=new r(0),a=t;if(!Array.isArray(n))throw new Error("[ethjs-abi] while encoding array, invalid array data, not type Object (Array)");if(-1===a&&(a=n.length,o=d.encode(a)),a!==n.length)throw new Error("[ethjs-abi] while encoding array, size mismatch array length "+a+" does not equal "+n.length);return n.forEach((function(t){o=r.concat([o,e.encode(t)])})),o},decode:function(r,n){var o,a=t,i=n,s=0;-1===a&&(a=(o=d.decode(r,i)).value.toNumber(),s+=o.consumed,i+=o.consumed);for(var u=[],c=0;c<a;c++){var l=e.decode(r,i);s+=l.consumed,i+=l.consumed,u.push(l.value)}return{consumed:s,value:u}},dynamic:-1===t}}var w=new RegExp(/^((u?int|bytes)([0-9]*)|(address|bool|string)|(\[([0-9]*)\]))/);t.exports={BN:n,bnToBuffer:s,isHexString:u,hexOrBuffer:c,hexlify:function(e){return"number"==typeof e?"0x"+s(new n(e)).toString("hex"):e.mod||e.modulo?"0x"+s(e).toString("hex"):"0x"+c(e).toString("hex")},stripZeros:i,keccak256:a,getKeys:function(e,t,r){var n=[];if(!Array.isArray(e))throw new Error("[ethjs-abi] while getting keys, invalid params value "+JSON.stringify(e));for(var o=0;o<e.length;o++){var a=e[o][t];if(r&&!a)a="";else if("string"!=typeof a)throw new Error("[ethjs-abi] while getKeys found invalid ABI data structure, type value not string");n.push(a)}return n},numberToBN:o,coderNumber:l,uint256Coder:d,coderBoolean:f,coderFixedBytes:h,coderAddress:g,coderDynamicBytes:b,coderString:y,coderArray:v,paramTypePart:w,getParamCoder:function(e){for(var t=e,r=null,n="[ethjs-abi] while getting param coder (getParamCoder) type value "+JSON.stringify(t)+" is either invalid or unsupported by ethjs-abi.";t;){var o=t.match(w);if(!o)throw new Error(n);t=t.substring(o[0].length);var a=o[2]||o[4]||o[5];switch(a){case"int":case"uint":if(r)throw new Error(n);var i=parseInt(o[3]||256);if(0===i||i>256||i%8!=0)throw new Error("[ethjs-abi] while getting param coder for type "+t+", invalid "+a+"<N> width: "+t);r=l(i/8,"int"===a);break;case"bool":if(r)throw new Error(n);r=f;break;case"string":if(r)throw new Error(n);r=y;break;case"bytes":if(r)throw new Error(n);if(o[3]){var s=parseInt(o[3]);if(0===s||s>32)throw new Error("[ethjs-abi] while getting param coder for prefix bytes, invalid type "+t+", size "+s+" should be 0 or greater than 32");r=h(s)}else r=b;break;case"address":if(r)throw new Error(n);r=g;break;case"[]":if(!r||r.dynamic)throw new Error(n);r=v(r,-1);break;default:if(!r||r.dynamic)throw new Error(n);r=v(r,parseInt(o[6]))}}if(!r)throw new Error(n);return r}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/ethjs-abi/lib/utils/index.js"}],[1296,{buffer:2028,"is-hex-prefixed":4617,"strip-hex-prefix":5757},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("is-hex-prefixed"),o=e("strip-hex-prefix");function a(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function i(e){return"0x"+a(e.toString(16))}t.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var t=i(e);return r.from(t.slice(2),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return r.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:o,padToEven:a,intToHex:i,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+a(new r(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var o=parseInt(e.substr(r,2),16);t+=String.fromCharCode(o)}return t},toUtf8:function(e){return new r(a(o(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],o=0;o<e.length;o++){var a=e[o][t];if(r&&!a)a="";else if("string"!=typeof a)throw new Error("invalid abi");n.push(a)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-util",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/ethjs-contract/node_modules/ethjs-util/lib/index.js"}],[1294,{"./utils/index.js":1295,buffer:2028},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./utils/index.js"),o=n.uint256Coder,a=(n.coderBoolean,n.coderFixedBytes,n.coderAddress,n.coderDynamicBytes,n.coderString,n.coderArray,n.paramTypePart,n.getParamCoder);function i(){}function s(e,t){if(e.length!==t.length)throw new Error("[ethjs-abi] while encoding params, types/values mismatch, Your contract requires "+e.length+" types (arguments), and you passed in "+t.length);var n=[];function i(e){return parseInt(32*Math.ceil(e/32))}e.forEach((function(e,r){var o=a(e);n.push({dynamic:o.dynamic,value:o.encode(t[r])})}));var s=0,u=0;n.forEach((function(e){e.dynamic?(s+=32,u+=i(e.value.length)):s+=i(e.value.length)}));var c=0,l=s,d=new r(s+u);return n.forEach((function(e,t){e.dynamic?(o.encode(l).copy(d,c),c+=32,e.value.copy(d,l),l+=i(e.value.length)):(e.value.copy(d,c),c+=i(e.value.length))})),"0x"+d.toString("hex")}function u(e,t,r){var s=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3];arguments.length<3&&(r=t,t=e,e=[]),r=n.hexOrBuffer(r);var u=new i,c=0;return t.forEach((function(t,n){var i=a(t);if(i.dynamic){var l=o.decode(r,c),d=i.decode(r,l.value.toNumber());c+=l.consumed}else{d=i.decode(r,c);c+=d.consumed}s&&(u[n]=d.value),e[n]&&(u[e[n]]=d.value)})),u}function c(e,t){var o=e.name+"("+n.getKeys(e.inputs,"type").join(",")+")";return""+("0x"+new r(n.keccak256(o),"hex").slice(0,4).toString("hex"))+s(n.getKeys(e.inputs,"type"),t).substring(2)}function l(e){var t=e.name+"("+n.getKeys(e.inputs,"type").join(",")+")";return"0x"+n.keccak256(t)}function d(e,t,o){var i=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3],s=e.inputs.filter((function(e){return!e.indexed})),c=n.getKeys(s,"name",!0),l=n.getKeys(s,"type"),d=u(c,l,n.hexOrBuffer(t),i),f=e.anonymous?0:1;return e.inputs.filter((function(e){return e.indexed})).map((function(e,t){var n=new r(o[t+f].slice(2),"hex"),i=a(e.type);d[e.name]=i.decode(n,0).value})),d._eventName=e.name,d}function f(e,t){var r=!(arguments.length>2&&arguments[2]!==undefined)||arguments[2];if(e&&t.topics[0]===l(e))return d(e,t.data,t.topics,r)}t.exports={encodeParams:s,decodeParams:u,encodeMethod:c,decodeMethod:function(e,t){return u(n.getKeys(e.outputs,"name",!0),n.getKeys(e.outputs,"type"),n.hexOrBuffer(t))},encodeEvent:function(e,t){return c(e,t)},decodeEvent:d,decodeLogItem:f,logDecoder:function(e){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],r={};return e.filter((function(e){return"event"===e.type})).map((function(e){r[l(e)]=e})),function(e){return e.map((function(e){return f(r[e.topics[0]],e,t)})).filter((function(e){return e}))}},eventSignature:l}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/ethjs-contract/node_modules/ethjs-abi/lib/index.js"}],[1292,{"babel-runtime/core-js/object/keys":1767},function(){with(this)return function(){"use strict";return function(e,t,r){var n,o=e("babel-runtime/core-js/object/keys"),a=(n=o)&&n.__esModule?n:{default:n};var i=["from","to","data","value","gasPrice","gas"];t.exports=function(e){if(!Array.isArray(e)||0===e.length)return!1;var t=e[e.length-1];if(!t)return!1;if("object"!=typeof t)return!1;if(0===(0,a.default)(t).length)return!0;var r=(0,a.default)(t);if(i.some((function(e){return r.includes(e)})))return!0;return!1}}}},{package:"ethjs-contract",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/ethjs-contract/lib/has-tx-object.js"}],[1291,{"./has-tx-object":1292,"babel-runtime/core-js/json/stringify":1763,"babel-runtime/core-js/object/assign":1764,"babel-runtime/helpers/asyncToGenerator":1772,"babel-runtime/regenerator":1889,"ethjs-abi":1294,"ethjs-filter":2511,"ethjs-util":1296,"js-sha3":1302,"promise-to-callback":5296},function(){with(this)return function(){"use strict";return function(e,t,r){var n=s(e("babel-runtime/regenerator")),o=s(e("babel-runtime/core-js/json/stringify")),a=s(e("babel-runtime/helpers/asyncToGenerator")),i=s(e("babel-runtime/core-js/object/assign"));function s(e){return e&&e.__esModule?e:{default:e}}var u=e("ethjs-abi"),c=e("ethjs-filter"),l=e("ethjs-util").getKeys,d=e("js-sha3").keccak_256,f=e("./has-tx-object"),h=e("promise-to-callback");function g(e){return e.filter((function(e){return("function"===e.type||"event"===e.type)&&e.name.length>0}))}t.exports=function(){var e=(s=(0,a.default)(n.default.mark((function e(t){var a,s,c,l,d,h=t.methodObject,g=t.methodArgs;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="call",s={},f(g)&&(s=g.pop()),(c=(0,i.default)({},r.defaultTxObject,s,{to:r.address})).data=u.encodeMethod(h,g),!1===h.constant&&(a="sendTransaction"),e.next=8,r.query[a](c);case 8:if(l=e.sent,"call"!==a){e.next=19;break}return e.prev=10,d=u.decodeMethod(h,l),e.abrupt("return",d);case 15:throw e.prev=15,e.t0=e.catch(10),new Error("[ethjs-contract] while formatting incoming raw call data "+(0,o.default)(l)+" "+e.t0);case 19:return e.abrupt("return",l);case 20:case"end":return e.stop()}}),e,this,[[10,15]])}))),function(e){return s.apply(this,arguments)}),t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=this;var s;function p(e){return function(){var t=[].slice.call(arguments),n=l(e.inputs,"type",!1),o="0x"+d(e.name+"("+n.join(",")+")"),a=[o],s=(0,i.default)({},t[0])||{},c=(0,i.default)({},t[0]||{},{to:r.address,topics:a}),f=(0,i.default)({},s,{decoder:function(t){return u.decodeEvent(e,t,a)},defaultFilterObject:c});return new r.filters.Filter(f)}}function m(t){return function(){var r=void 0,n=[].slice.call(arguments);"function"==typeof n[n.length-1]&&(r=n.pop());var o=e({methodObject:t,methodArgs:n});return r?h(o)(r):o}}r.abi=t.contractABI||[],r.query=t.query,r.address=t.address||"0x",r.bytecode=t.contractBytecode||"0x",r.defaultTxObject=t.contractDefaultTxObject||{},r.filters=new c(r.query),g(r.abi).forEach((function(e){"function"===e.type?r[e.name]=m(e):"event"===e.type&&(r[e.name]=p(e))}))}}}},{package:"ethjs-contract",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/ethjs-contract/lib/contract.js"}],[5674,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n,o="object"==typeof window&&(window.crypto||window.msCrypto);n=o&&o.getRandomValues?function(e){return o.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},t.exports=n}}},{package:"shortid",file:"/home/circleci/project/node_modules/shortid/lib/random/random-byte-browser.js"}],[5133,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*n*r/t.length),a="";;)for(var i=e(o),s=o;s--;)if((a+=t[i[s]&n]||"").length===+r)return a}}}},{package:"nanoid",file:"/home/circleci/project/node_modules/nanoid/format.browser.js"}],[1295,{"bn.js":1279,buffer:2028,"js-sha3":1302,"number-to-bn":5175},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("bn.js"),o=e("number-to-bn"),a=e("js-sha3").keccak_256;function i(e){for(var t=e,r=t[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t}function s(e){var t=e.toString(16);return t.length%2&&(t="0"+t),i(new r(t,"hex"))}function u(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function c(e,t){var n=e;if(!r.isBuffer(n)){if(!u(n)){var o=new Error(t?"[ethjs-abi] invalid "+t:"[ethjs-abi] invalid hex or buffer, must be a prefixed alphanumeric even length hex string");throw o.reason="[ethjs-abi] invalid hex string, hex must be prefixed and alphanumeric (e.g. 0x023..)",o.value=n,o}(n=n.substring(2)).length%2&&(n="0"+n),n=new r(n,"hex")}return n}function l(e,t){return{encode:function(n){var a=n;return"object"==typeof a&&a.toString&&(a.toTwos||a.dividedToIntegerBy)&&(a=a.toString(10).split(".")[0]),"string"!=typeof a&&"number"!=typeof a||(a=String(a).split(".")[0]),a=(a=o(a)).toTwos(8*e).maskn(8*e),t&&(a=a.fromTwos(8*e).toTwos(256)),a.toArrayLike(r,"be",32)},decode:function(r,o){var a=32-e,i=new n(r.slice(o+a,o+32));return i=t?i.fromTwos(8*e):i.maskn(8*e),{consumed:32,value:new n(i.toString(10))}}}}var d=l(32,!1),f={encode:function(e){return d.encode(e?1:0)},decode:function(e,t){var r=d.decode(e,t);return{consumed:r.consumed,value:!r.value.isZero()}}};function h(e){return{encode:function(e){var t=e;if(32===(t=c(t)).length)return t;var n=new r(32);return n.fill(0),t.copy(n),n},decode:function(t,r){if(0!==t.length&&t.length<r+32)throw new Error("[ethjs-abi] while decoding fixed bytes, invalid bytes data length: "+e);return{consumed:32,value:"0x"+t.slice(r,r+e).toString("hex")}}}}var g={encode:function(e){var t=e,n=new r(32);if(!u(t,20))throw new Error("[ethjs-abi] while encoding address, invalid address value, not alphanumeric 20 byte hex string");return t=c(t),n.fill(0),t.copy(n,12),n},decode:function(e,t){if(0===e.length)return{consumed:32,value:"0x"};if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding address data, invalid address data, invalid byte length "+e.length);return{consumed:32,value:"0x"+e.slice(t+12,t+32).toString("hex")}}};function p(e){var t=parseInt(32*Math.ceil(e.length/32)),n=new r(t-e.length);return n.fill(0),r.concat([d.encode(e.length),e,n])}function m(e,t){if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32));var r=d.decode(e,t).value;if(r=r.toNumber(),0!==e.length&&e.length<t+32+r)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32+r));return{consumed:parseInt(32+32*Math.ceil(r/32),10),value:e.slice(t+32,t+32+r)}}var b={encode:function(e){return p(c(e))},decode:function(e,t){var r=m(e,t);return r.value="0x"+r.value.toString("hex"),r},dynamic:!0},y={encode:function(e){return p(new r(e,"utf8"))},decode:function(e,t){var r=m(e,t);return r.value=r.value.toString("utf8"),r},dynamic:!0};function v(e,t){return{encode:function(n){var o=new r(0),a=t;if(!Array.isArray(n))throw new Error("[ethjs-abi] while encoding array, invalid array data, not type Object (Array)");if(-1===a&&(a=n.length,o=d.encode(a)),a!==n.length)throw new Error("[ethjs-abi] while encoding array, size mismatch array length "+a+" does not equal "+n.length);return n.forEach((function(t){o=r.concat([o,e.encode(t)])})),o},decode:function(r,n){var o,a=t,i=n,s=0;-1===a&&(a=(o=d.decode(r,i)).value.toNumber(),s+=o.consumed,i+=o.consumed);for(var u=[],c=0;c<a;c++){var l=e.decode(r,i);s+=l.consumed,i+=l.consumed,u.push(l.value)}return{consumed:s,value:u}},dynamic:-1===t}}var w=new RegExp(/^((u?int|bytes)([0-9]*)|(address|bool|string)|(\[([0-9]*)\]))/);t.exports={BN:n,bnToBuffer:s,isHexString:u,hexOrBuffer:c,hexlify:function(e){return"number"==typeof e?"0x"+s(new n(e)).toString("hex"):e.mod||e.modulo?"0x"+s(e).toString("hex"):"0x"+c(e).toString("hex")},stripZeros:i,keccak256:a,getKeys:function(e,t,r){var n=[];if(!Array.isArray(e))throw new Error("[ethjs-abi] while getting keys, invalid params value "+JSON.stringify(e));for(var o=0;o<e.length;o++){var a=e[o][t];if(r&&!a)a="";else if("string"!=typeof a)throw new Error("[ethjs-abi] while getKeys found invalid ABI data structure, type value not string");n.push(a)}return n},numberToBN:o,coderNumber:l,uint256Coder:d,coderBoolean:f,coderFixedBytes:h,coderAddress:g,coderDynamicBytes:b,coderString:y,coderArray:v,paramTypePart:w,getParamCoder:function(e){for(var t=e,r=null,n="[ethjs-abi] while getting param coder (getParamCoder) type value "+JSON.stringify(t)+" is either invalid or unsupported by ethjs-abi.";t;){var o=t.match(w);if(!o)throw new Error(n);t=t.substring(o[0].length);var a=o[2]||o[4]||o[5];switch(a){case"int":case"uint":if(r)throw new Error(n);var i=parseInt(o[3]||256);if(0===i||i>256||i%8!=0)throw new Error("[ethjs-abi] while getting param coder for type "+t+", invalid "+a+"<N> width: "+t);r=l(i/8,"int"===a);break;case"bool":if(r)throw new Error(n);r=f;break;case"string":if(r)throw new Error(n);r=y;break;case"bytes":if(r)throw new Error(n);if(o[3]){var s=parseInt(o[3]);if(0===s||s>32)throw new Error("[ethjs-abi] while getting param coder for prefix bytes, invalid type "+t+", size "+s+" should be 0 or greater than 32");r=h(s)}else r=b;break;case"address":if(r)throw new Error(n);r=g;break;case"[]":if(!r||r.dynamic)throw new Error(n);r=v(r,-1);break;default:if(!r||r.dynamic)throw new Error(n);r=v(r,parseInt(o[6]))}}if(!r)throw new Error(n);return r}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/ethjs-contract/node_modules/ethjs-abi/lib/utils/index.js"}],[3,{"../../shared/constants/app":6013,"../../shared/constants/metametrics":6017,"../../shared/constants/time":6021,"./first-time-state":38,"./lib/createStreamSink":47,"./lib/ens-ipfs/setup":54,"./lib/get-first-preferred-lang-code":56,"./lib/getObjStructure":57,"./lib/local-store":58,"./lib/migrator":61,"./lib/network-store":62,"./lib/notification-manager":63,"./metamask-controller":82,"./migrations":152,"./platforms/extension":153,"@babel/runtime/helpers/defineProperty":189,"@babel/runtime/helpers/interopRequireDefault":195,"@metamask/obs-store":1182,"@sentry/browser":1427,_process:5294,"debounce-stream":2194,"end-of-stream":2282,"eth-rpc-errors":2399,"extension-port-stream":2529,extensionizer:2531,loglevel:5059,pump:5393},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var r=e("@babel/runtime/helpers/interopRequireDefault"),n=r(e("@babel/runtime/helpers/defineProperty")),o=r(e("end-of-stream")),a=r(e("pump")),i=r(e("debounce-stream")),s=r(e("loglevel")),u=r(e("extensionizer")),c=e("@metamask/obs-store"),l=r(e("extension-port-stream")),d=e("@sentry/browser"),f=e("eth-rpc-errors"),h=e("../../shared/constants/app"),g=e("../../shared/constants/time"),p=e("../../shared/constants/metametrics"),m=r(e("./migrations")),b=r(e("./lib/migrator")),y=r(e("./platforms/extension")),v=r(e("./lib/local-store")),w=r(e("./lib/network-store")),E=r(e("./lib/createStreamSink")),x=_(e("./lib/notification-manager")),j=_(e("./metamask-controller")),T=r(e("./first-time-state")),M=r(e("./lib/get-first-preferred-lang-code")),O=r(e("./lib/getObjStructure")),S=r(e("./lib/ens-ipfs/setup"));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(A=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=A(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const{sentry:C}=global,k=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},T.default);s.default.setDefaultLevel(t.env.METAMASK_DEBUG?"debug":"info");const I=new y.default,P=new x.default;global.METAMASK_NOTIFIER=P;let B=!1,R=!1,L=!1;const D={},K={},U=t.env.IN_TEST,F=U?new w.default:new v.default;let V;async function G(){const e=await I.getActiveTabs(),t=Boolean(e.find((e=>D[e.id]))),r=e.length>0&&e[0].extData&&e[0].extData.indexOf("vivaldi_tab")>-1;if(!L&&(r||!B)&&!t){L=!0;try{await P.showPopup()}finally{L=!1}}}async function q(){await G(),await new Promise((e=>{const t=setInterval((()=>{R||(clearInterval(t),e())}),g.SECOND)}))}(U||t.env.METAMASK_DEBUG)&&(global.metamaskGetState=F.get.bind(F)),async function(){const e=await async function(){const e=new b.default({migrations:m.default});e.on("error",console.warn),V=await F.get()||e.generateInitialState(k),V&&!V.data&&(V=e.generateInitialState(k),C.captureMessage("MetaMask - Empty vault found - unable to recover"));if(e.on("error",(e=>{const t=(0,O.default)(V);C.captureException(e,{extra:{vaultStructure:t}})})),V=await e.migrateData(V),!V)throw new Error("MetaMask - migrator returned undefined");F.isSupported?F.set(V):setTimeout((()=>{throw new Error("MetaMask - Localstore not supported")}));return V.data}(),t=await(0,M.default)();await function(e,t){const r=new j.default({infuraProjectId:"9aa3d95b3bc440fa88ea12eaa4456161",showUserConfirmation:G,openPopup:q,initState:e,initLangCode:t,platform:I,notificationManager:P,extension:u.default,getRequestAccountTabIds:()=>K,getOpenMetamaskTabsIds:()=>D});function n(e){return V.data=e,V}(0,S.default)({getCurrentChainId:r.networkController.getCurrentChainId.bind(r.networkController),getIpfsGateway:r.preferencesController.getIpfsGateway.bind(r.preferencesController),provider:r.provider}),(0,a.default)((0,c.storeAsStream)(r.store),(0,i.default)(1e3),(0,c.storeTransformStream)(n),(0,E.default)(m),(e=>{s.default.error("MetaMask - Persistence pipeline failed",e)}));let g=!1;async function m(e){if(!e)throw new Error("MetaMask - updated state is missing");if(!e.data)throw new Error("MetaMask - updated state does not have data");if(F.isSupported)try{await F.set(e),g&&(g=!1)}catch(e){g||(g=!0,(0,d.captureException)(e)),s.default.error("error setting state in local store:",e)}}u.default.runtime.onConnect.addListener(T),u.default.runtime.onConnectExternal.addListener(M);const b={[h.ENVIRONMENT_TYPE_POPUP]:!0,[h.ENVIRONMENT_TYPE_NOTIFICATION]:!0,[h.ENVIRONMENT_TYPE_FULLSCREEN]:!0},y=["trezor-connect"],v=()=>B||Boolean(Object.keys(D).length)||R,w=(e,t)=>{if(!1===e)r.onClientClosed();else{if(t===h.ENVIRONMENT_TYPE_FULLSCREEN&&Boolean(Object.keys(D).length))return;r.onEnvironmentTypeClosed(t)}};function T(e){const t=e.name,n=b[t];if(!y.includes(e.name))if(n){const n=new l.default(e);if(r.isClientOpen=!0,r.setupTrustedCommunication(n,e.sender),t===h.ENVIRONMENT_TYPE_POPUP&&(B=!0,(0,o.default)(n,(()=>{B=!1;const e=v();r.isClientOpen=e,w(e,h.ENVIRONMENT_TYPE_POPUP)}))),t===h.ENVIRONMENT_TYPE_NOTIFICATION&&(R=!0,(0,o.default)(n,(()=>{R=!1;const e=v();r.isClientOpen=e,w(e,h.ENVIRONMENT_TYPE_NOTIFICATION)}))),t===h.ENVIRONMENT_TYPE_FULLSCREEN){const t=e.sender.tab.id;D[t]=!0,(0,o.default)(n,(()=>{delete D[t];const e=v();r.isClientOpen=e,w(e,h.ENVIRONMENT_TYPE_FULLSCREEN)}))}}else{if(e.sender&&e.sender.tab&&e.sender.url){const t=e.sender.tab.id,r=new URL(e.sender.url),{origin:n}=r;e.onMessage.addListener((e=>{e.data&&"eth_requestAccounts"===e.data.method&&(K[n]=t)}))}M(e)}}function M(e){const t=new l.default(e);r.setupUntrustedCommunication({connectionStream:t,sender:e.sender})}function O(){let e="";const t=A();t&&(e=String(t)),u.default.browserAction.setBadgeText({text:e}),u.default.browserAction.setBadgeBackgroundColor({color:"#037DD6"})}function A(){const e=r.txController.getUnapprovedTxCount(),{unapprovedMsgCount:t}=r.messageManager,{unapprovedPersonalMsgCount:n}=r.personalMessageManager,{unapprovedDecryptMsgCount:o}=r.decryptMessageManager,{unapprovedEncryptionPublicKeyMsgCount:a}=r.encryptionPublicKeyManager,{unapprovedTypedMessagesCount:i}=r.typedMessageManager;return e+t+n+o+a+i+r.approvalController.getTotalApprovalCount()+r.appStateController.waitingForUnlock.length}function _(){Object.keys(r.txController.txStateManager.getUnapprovedTxList()).forEach((e=>r.txController.txStateManager.setTxStatusRejected(e))),r.messageManager.messages.filter((e=>"unapproved"===e.status)).forEach((e=>r.messageManager.rejectMsg(e.id,p.REJECT_NOTFICIATION_CLOSE_SIG))),r.personalMessageManager.messages.filter((e=>"unapproved"===e.status)).forEach((e=>r.personalMessageManager.rejectMsg(e.id,p.REJECT_NOTFICIATION_CLOSE_SIG))),r.typedMessageManager.messages.filter((e=>"unapproved"===e.status)).forEach((e=>r.typedMessageManager.rejectMsg(e.id,p.REJECT_NOTFICIATION_CLOSE_SIG))),r.decryptMessageManager.messages.filter((e=>"unapproved"===e.status)).forEach((e=>r.decryptMessageManager.rejectMsg(e.id,p.REJECT_NOTFICIATION_CLOSE))),r.encryptionPublicKeyManager.messages.filter((e=>"unapproved"===e.status)).forEach((e=>r.encryptionPublicKeyManager.rejectMsg(e.id,p.REJECT_NOTFICIATION_CLOSE))),r.approvalController.clear(f.ethErrors.provider.userRejectedRequest()),O()}return O(),r.txController.on(j.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,O),r.messageManager.on(j.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,O),r.personalMessageManager.on(j.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,O),r.decryptMessageManager.on(j.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,O),r.encryptionPublicKeyManager.on(j.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,O),r.typedMessageManager.on(j.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,O),r.appStateController.on(j.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,O),r.controllerMessenger.subscribe(j.METAMASK_CONTROLLER_EVENTS.APPROVAL_STATE_CHANGE,O),P.on(x.NOTIFICATION_MANAGER_EVENTS.POPUP_CLOSED,(({automaticallyClosed:e})=>{e?A()>0&&G():_()})),Promise.resolve()}(e,t),s.default.info("MetaMask initialization complete.")}().catch(s.default.error),u.default.runtime.onInstalled.addListener((({reason:e})=>{"install"!==e||t.env.METAMASK_DEBUG||t.env.IN_TEST||I.openExtensionInBrowser()}))}).call(this)}).call(this,e("_process"))}}},{package:"<root>",file:"/home/circleci/project/app/scripts/background.js"}]],[3],{});